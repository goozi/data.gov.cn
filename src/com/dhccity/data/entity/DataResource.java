package com.dhccity.data.entity;

import java.util.*;

import org.light.*;

/**
 * <p>
 * Title: DATA_RESOURCE?????????
 * </p>
 * <p>
 * Description:??????
 * </p>
 * <p>
 * Company: Kingtop
 * </p>
 * <p>
 * CreateDate: 2015-05-14 15:52:39
 * </p>
 *
 * @author Zerrion
 * @version 1.0
 */
public class DataResource extends Ado {
    private long id; // ID
    private String name; // ???
    private String title; // ????
    private String description; // ????
    private String resType; // ???????
    private String sourceUrl; // ???URL
    private double version; // ??
    private long creator; // ??????
    private Date createDate; // ???????
    private long modifyUser; // ?????
    private Date modifyDate; // ??????
    private long downloadNum; // ??????
    private long fileId; // ???ID
    private long datasetId; // ????ID
    private String kind;    //??????????

    {
        defaultOrder = "o.id desc";
    } // ?????????

    public DataResource() {
    }

    public DataResource(long id) {
        this.id = id;
    }

    /**
     * ???????[ID] ?????[NUMBER] ?????[22]
     */
    public void setId(long id) {
        this.id = id;
    }

    /**
     * ???????[ID] ?????[NUMBER] ?????[22]
     */
    public long getId() {
        return this.id;
    }

    /**
     * ???????[???] ?????[VARCHAR2] ?????[200]
     */
    public void setName(String name) {
        this.name = name;
    }

    /**
     * ???????[???] ?????[VARCHAR2] ?????[200]
     */
    public String getName() {
        return this.name == null ? "" : this.name;
    }

    /**
     * ???????[????] ?????[VARCHAR2] ?????[200]
     */
    public void setTitle(String title) {
        this.title = title;
    }

    /**
     * ???????[????] ?????[VARCHAR2] ?????[200]
     */
    public String getTitle() {
        return this.title == null ? "" : this.title;
    }

    /**
     * ???????[????] ?????[VARCHAR2] ?????[1000]
     */
    public void setDescription(String description) {
        this.description = description;
    }

    /**
     * ???????[????] ?????[VARCHAR2] ?????[1000]
     */
    public String getDescription() {
        return this.description == null ? "" : this.description;
    }

    /**
     * ???????[???????] ?????[NUMBER] ?????[22]
     */
    public void setResType(String resType) {
        this.resType = resType;
    }

    /**
     * ???????[???????] ?????[NUMBER] ?????[22]
     */
    public String getResType() {
        return this.resType;
    }

    /**
     * ???????[???URL] ?????[VARCHAR2] ?????[200]
     */
    public void setSourceUrl(String sourceUrl) {
        this.sourceUrl = sourceUrl;
    }

    /**
     * ???????[???URL] ?????[VARCHAR2] ?????[200]
     */
    public String getSourceUrl() {
        return this.sourceUrl == null ? "" : this.sourceUrl;
    }

    /**
     * ???????[??] ?????[NUMBER] ?????[1]
     */
    public void setVersion(double version) {
        this.version = version;
    }

    /**
     * ???????[??] ?????[NUMBER] ?????[1]
     */
    public double getVersion() {
        return this.version;
    }

    /**
     * ???????[??????] ?????[NUMBER] ?????[22]
     */
    public void setCreator(long creator) {
        this.creator = creator;
    }

    /**
     * ???????[??????] ?????[NUMBER] ?????[22]
     */
    public long getCreator() {
        return this.creator;
    }

    /**
     * ???????[???????] ?????[DATE] ?????[7]
     */
    public void setCreateDate(Date createDate) {
        this.createDate = createDate;
    }

    /**
     * ???????[???????] ?????[DATE] ?????[7]
     */
    public Date getCreateDate() {
        return this.createDate;
    }

    /**
     * ???????[?????] ?????[NUMBER] ?????[22]
     */
    public void setModifyUser(long modifyUser) {
        this.modifyUser = modifyUser;
    }

    /**
     * ???????[?????] ?????[NUMBER] ?????[22]
     */
    public long getModifyUser() {
        return this.modifyUser;
    }

    /**
     * ???????[??????] ?????[DATE] ?????[7]
     */
    public void setModifyDate(Date modifyDate) {
        this.modifyDate = modifyDate;
    }

    /**
     * ???????[??????] ?????[DATE] ?????[7]
     */
    public Date getModifyDate() {
        return this.modifyDate;
    }

    /**
     * ???????[??????] ?????[NUMBER] ?????[10]
     */
    public void setDownloadNum(long downloadNum) {
        this.downloadNum = downloadNum;
    }

    /**
     * ???????[??????] ?????[NUMBER] ?????[10]
     */
    public long getDownloadNum() {
        return this.downloadNum;
    }

    /**
     * ???????[???ID] ?????[NUMBER] ?????[22]
     */
    public void setFileId(long fileId) {
        this.fileId = fileId;
    }

    /**
     * ???????[???ID] ?????[NUMBER] ?????[22]
     */
    public long getFileId() {
        return this.fileId;
    }

    /**
     * ???????[????ID] ?????[NUMBER] ?????[22]
     */
    public void setDatasetId(long datasetId) {
        this.datasetId = datasetId;
    }

    /**
     * ???????[????ID] ?????[NUMBER] ?????[22]
     */
    public long getDatasetId() {
        return this.datasetId;
    }

    public String getKind() {
        return kind;
    }

    public void setKind(String kind) {
        this.kind = kind;
    }

    // ===============================????????????===================================

    /**
     * ????????
     *
     * @return
     */
    public Long count() {
        String hql = "select count(*) from DataResource";
        return (Long) this.findObject(hql);
    }

    /**
     * ??????ID?????????????????
     *
     * @param datasetId //????ID
     * @param page      //???
     * @param rows      //??????
     * @return
     */
    public List<DataResource> findPageByDatasetId(long datasetId, int page,
                                                  int rows) {
        String hql = "from DataResource o where o.datasetId = " + datasetId;
        return this.findPage(hql, page, rows);
    }

    /**
     * ??????ID?????????????????
     *
     * @param datasetId //????ID
     * @return
     */
    public List<DataResource> findByDatasetId(long datasetId) {
        String hql = "from DataResource o where o.datasetId = " + datasetId;
        return this.findAll(hql);
    }

    /**
     * ??????????????????????????????
     *
     * @param datasetId
     * @return
     */
    public Map<String, Integer> getKindMap(long datasetId) {
        String hql = "from DataResource o where o.datasetId = " + datasetId;
        List<DataResource> dataResourceList = this.findAll(hql);
        Map<String, Integer> kindMap = new HashMap<String, Integer>();
        for (int i = 0; i < dataResourceList.size(); i++) {
            DataResource dataResource = dataResourceList.get(i);
            if (kindMap.containsKey(dataResource.getKind())) {
                kindMap.put(dataResource.getKind(), kindMap.get(dataResource.getKind()) + 1);
            } else {
                kindMap.put(dataResource.getKind(), 1);
            }
        }
        return kindMap;
    }
}
